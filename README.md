# Course Flow App - (课程售卖平台)

这是一个功能完善的全栈Web应用原型，用于在线展示、购买和下载视频课程。项目采用前后端分离架构。

## 技术栈 (Technology Stack)

*   **后端 (Backend):**
    *   **框架:** Python 3, FastAPI
    *   **Web服务器 (开发):** Uvicorn
    *   **数据存储 (原型):** 内存字典 (In-memory dictionaries)

*   **前端 (Frontend):**
    *   **框架:** Vue.js 3 (with Composition API)
    *   **构建工具:** Vite
    *   **UI & 样式:** Tailwind CSS
    *   **HTTP客户端:** Axios

---

## 项目生产化改造路线图 (Production Roadmap)

**目标：** 将当前的应用原型改造为一个可以真实部署、收款和提供服务的线上产品。

### 第一阶段：后端核心功能重构

**1. 数据库集成 (替代内存数据)**

*   **目标:** 将所有数据（用户、课程、购买记录等）持久化。
*   **实施计划:**
    *   引入 **SQLite** 作为初始开发数据库，因为它简单、无需单独的服务。
    *   使用 **SQLAlchemy** 作为ORM (对象关系映射器)，来定义数据模型（如 `User`, `Course` 表），并替代 `main.py` 中所有的临时字典。
    *   重构后端的所有数据读写操作，使其通过 SQLAlchemy 与数据库交互。

**2. 对象存储集成 (替代本地视频文件)**

*   **目标:** 将视频文件存储在专业的、可扩展的云存储服务上。
*   **实施计划:**
    *   选择一个云对象存储服务 (例如 **阿里云 OSS**, **腾讯云 COS** 或 **AWS S3**)。
    *   修改后端的 `/api/download` 接口逻辑：在验证用户权限后，动态生成一个有时效性的、私有的**预签名下载链接 (Pre-signed URL)** 并返回给前端。
    *   前端将直接使用这个预签名链接进行下载，这种方式安全且高效。

### 第二阶段：支付与部署

**3. 真实支付集成 (替代模拟二维码)**

*   **目标:** 接入真实的支付渠道，完成商业闭环。
*   **实施计划:**
    *   选择一个支付服务商 (例如 **支付宝** 或 **微信支付**)。
    *   后端将集成支付服务商的 SDK。当用户发起购买时，后端调用支付接口生成一个真实的支付订单和二维码。
    *   后端需要创建一个**回调接口 (Webhook)**，用于接收来自支付服务商的支付成功通知。收到通知后，后端在数据库中更新用户的购买记录。

**4. 生产环境部署**

*   **目标:** 将前后端应用部署到云服务器上，对外提供服务。
*   **实施计划:**
    *   **前端:** 运行 `npm run build` 命令，将 Vue 应用打包成一套静态文件 (HTML, CSS, JS)。
    *   **后端:** 使用 **Gunicorn** + **Uvicorn** 来运行 FastAPI 应用，以获得更好的性能和稳定性。
    *   **服务器:** 使用 **Nginx** 作为反向代理。Nginx 负责处理所有外部请求，将静态文件（前端页面）直接返回给用户，并将所有 `/api/` 的请求转发给后端的 Gunicorn 服务。
    *   **(推荐) Docker 容器化:** 为了简化部署和管理，我们会将前端（Nginx）和后端（FastAPI）分别打包成 Docker 镜像，并使用 `docker-compose` 来一键启动和管理整个应用。
